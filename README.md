# Acastaway

Acastaway provides an unofficial API for Acast.

## Why?

- No need to faff about with API keys
- Uses the XML Feed under the hood with caching
- Can control pagination (XML feeds can be huge)
- Adds some nice extras, like a `slug` generated by the title

## Endpoints

### Fetch Show Information

Retrieve information about a specific show using its ID.

    curl https://acastaway.deno.dev/:id

### Parameters
- `:id`: The show ID from Acast.
- `page` (optional): The page number, defaults to `1`.
- `limit` (optional): The number of episodes per page, defaults to `10`.

### Response
```json
{
  "title": "Show Title",
  "items": [
    {
      "id": "episode_id",
      "title": "Episode Title",
      "slug": "episode-slug",
      "description": "Episode Description",
      "created": "YYYY-MM-DDTHH:MM:SSZ",
      "image": "Image URL",
      "link": "Link to Episode"
    },
    ...
  ],
  "page": 1,
  "limit": 10,
  "total_items": 100
}
```

## Fetch Specific Episode Information
Get detailed information about a specific episode using its ID or slug.

    curl https://acastaway.deno.dev/:id/:id_or_slug

### Parameters
- `:id:` The show ID from Acast.
- `:id_or_slug:` The episode ID or slug.

### Response
```json
{
  "id": "episode_id",
  "title": "Episode Title",
  "description": "Episode Description",
  "created": "YYYY-MM-DDTHH:MM:SSZ",
  "image": "Image URL",
  "link": "Link to Episode"
}
```

## Webhook for Cache Refresh
Acastaway can automatically refresh the cache whenever you publish a new episode. To enable this feature:

1. Go to the **Promotional Tools** tab on your show in Acast.
2. Enable the **Webhook** switch.
3. Provide the following server endpoint address:

    https://acastaway.deno.dev/:id

Replace `:id` with your actual show ID.

Now, whenever you publish a new episode, Acast will trigger a webhook that refreshes the cache for your show in Acastaway.

Manually making a POST request to this URL also invalidates the cache.
